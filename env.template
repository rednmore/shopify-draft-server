# ==============================================================================
# SHOPIFY DRAFT SERVER - ENVIRONMENT VARIABLES TEMPLATE
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env files to version control!

# ==============================================================================
# CORE SHOPIFY INTEGRATION (REQUIRED)
# ==============================================================================

# Your Shopify store domain (without https://)
# Find this in: Shopify Admin > Settings > General > Primary domain
# Example: "mystore.myshopify.com" or "mystore.com"
SHOPIFY_API_URL=your-store.myshopify.com

# Shopify Admin API Access Token
# Find this in: Shopify Admin > Apps > Develop apps > Create an app > Configure Admin API scopes
# Required scopes: read_customers, write_customers, read_draft_orders, write_draft_orders, read_orders, write_orders
# Generate the token after configuring scopes and installing the app
SHOPIFY_API_KEY=shpat_your_admin_api_access_token_here

# Shared secret for API authentication between your Shopify theme and this server
# Generate a strong random string (32+ characters recommended)
# Use this same value in your Shopify theme's API calls
API_SECRET=your_very_strong_random_secret_key_here

# ==============================================================================
# WEBHOOK CONFIGURATION (OPTIONAL)
# ==============================================================================

# Full URL where Shopify should send webhook notifications
# Should point to your deployed server's /sync-customer-data endpoint
# Leave empty to use default: https://your-render-app.onrender.com/sync-customer-data
PUBLIC_WEBHOOK_URL=https://your-render-app-name.onrender.com/sync-customer-data

# ==============================================================================
# EMAIL/SMTP CONFIGURATION (REQUIRED for IKYUM features)
# ==============================================================================

# SMTP server settings for sending emails (Infomaniak example)
# Get these from: Your email provider's SMTP settings documentation
# For Infomaniak: mail.infomaniak.com, port 587
IKYUM_SMTP_HOST=mail.infomaniak.com
IKYUM_SMTP_PORT=587

# SMTP authentication credentials
# Create these in: Your email provider's admin panel > Email accounts
IKYUM_SMTP_USER=no-reply@yourdomain.com
IKYUM_SMTP_PASS=your_email_password_here

# Email address to use in the "From" field
# Should match or be authorized by your SMTP provider
IKYUM_SMTP_FROM=Your Brand <no-reply@yourdomain.com>

# Admin email addresses to receive form submissions (comma-separated)
# These are the emails that will receive registration notifications
IKYUM_ADMIN_RECIPIENTS=admin@yourdomain.com,manager@yourdomain.com

# Fallback email for copies (optional)
# Used as backup if IKYUM_ADMIN_RECIPIENTS is not set
COPY_TO_ADDRESS=info@yourdomain.com

# ==============================================================================
# GOOGLE reCAPTCHA v3 CONFIGURATION (REQUIRED for forms)
# ==============================================================================

# reCAPTCHA v3 secret key
# Get this from: Google reCAPTCHA Admin Console > Your site > Settings > reCAPTCHA keys
# Website: https://www.google.com/recaptcha/admin/
IKYUM_RECAPTCHA_SECRET=your_recaptcha_secret_key_here

# Minimum score for reCAPTCHA v3 (0.0 to 1.0, default: 0.5)
# Higher values = stricter filtering, lower values = more permissive
IKYUM_RECAPTCHA_MIN_SCORE=0.5

# ==============================================================================
# BRANDING CONFIGURATION (OPTIONAL)
# ==============================================================================

# Brand name used in email subjects and content
IKYUM_BRAND=Your Brand Name

# ==============================================================================
# SERVER CONFIGURATION (OPTIONAL)
# ==============================================================================

# Port for the Express server (default: 3000)
# On Render, this is automatically set by the platform
PORT=3000
PUBLIC_WEBHOOK_URL=https://your-app.onrender.com/sync-customer-data

# ==============================================================================
# ADDITIONAL NOTES
# ==============================================================================

# CLIENT-SIDE CONFIGURATION (Not environment variables, but related):
# 
# 1. RECAPTCHA SITE KEY: Update in your Shopify theme files:
#    - File: shopify/snippets/regpro-recaptcha-loader.liquid
#    - File: shopify/sections/main-register-advanced.liquid
#    - Current value: "6LcZNLkrAAAAAOW2H08jogeIXhjw0S59U1cwKoUw"
#    - Get from: Google reCAPTCHA Admin Console > Your site > Settings > reCAPTCHA keys
#
# 2. GEOAPIFY API KEY (for address autocomplete):
#    - File: shopify/sections/main-register-advanced.liquid
#    - Variable: AC_KEY
#    - Get from: https://www.geoapify.com/ > Sign up > API keys
#
# 3. SERVER ENDPOINT URLs: Update in your Shopify theme files:
#    - File: assets/staff-draft-order.js
#    - File: shopify/assets/staff-draft-order.js
#    - File: shopify/snippets/regpro-submit-handler.liquid
#    - Current: "https://shopify-test-server-05d9.onrender.com"
#    - Change to: "https://your-render-app-name.onrender.com"

# ==============================================================================
# SECURITY CHECKLIST
# ==============================================================================
#
# ✅ Never commit .env files to version control
# ✅ Use strong, unique passwords for all accounts
# ✅ Rotate API keys and secrets regularly
# ✅ Use HTTPS for all external communications
# ✅ Limit Shopify API scopes to minimum required
# ✅ Set up proper CORS origins in your server configuration
# ✅ Monitor webhook endpoint for suspicious activity
# ✅ Keep all dependencies up to date
