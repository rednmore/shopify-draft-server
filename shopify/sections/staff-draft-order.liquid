{{ 'staff-draft-order.css' | asset_url | stylesheet_tag }}
{{ 'staff-draft-order.js' | asset_url | script_tag }}

<div class="page-width">
  <h2 class="h2">{{ section.settings.page_title }}</h2>

  <div class="client-combobox">
    <label for="client-input" class="field__label">{{ section.settings.select_label }}</label><br />
    <input type="text"
           id="client-input"
           class="client-input"
           placeholder="Recherchez un client..."
           autocomplete="off">
    <ul id="client-suggestions" class="suggestion-list"></ul>
    <input type="hidden" id="client-id">
  </div>

  {% if section.settings.show_help_text %}
    <div class="rte" style="margin-bottom: 20px;">
      {{ section.settings.help_text }}
    </div>
  {% endif %}

  <div style="margin-top: 20px;">
    <button id="create-draft-order"
            class="button staff-order-button">
      {{ section.settings.button_label }}
    </button>
  </div>

  <div id="feedback"
       class="body"
       style="margin-top: 20px; font-weight: bold; color: {{ section.settings.feedback_color }};">
  </div>

  <div id="selected-info" class="body" style="margin-top: 20px;"></div>
</div>

{% schema %}
{
  "name": "Commande Staff",
  "settings": [
    {
      "type": "text",
      "id": "page_title",
      "label": "Titre de la page",
      "default": "Créer une commande pour un client"
    },
    {
      "type": "text",
      "id": "select_label",
      "label": "Texte du champ de recherche",
      "default": "Sélectionner un client :"
    },
    {
      "type": "color",
      "id": "feedback_color",
      "label": "Couleur du message de retour",
      "default": "#000000"
    },
    {
      "type": "checkbox",
      "id": "show_help_text",
      "label": "Afficher un texte d’aide",
      "default": true
    },
    {
      "type": "richtext",
      "id": "help_text",
      "label": "Texte d’aide",
      "default": "<p>Utilisez cette interface pour créer une commande pour un client existant.</p>"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Texte du bouton de commande",
      "default": "Créer la commande"
    },
    {
      "type": "color",
      "id": "button_bg",
      "label": "Couleur de fond du bouton",
      "default": "#3a7cff"
    },
    {
      "type": "color",
      "id": "button_text",
      "label": "Couleur du texte du bouton",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_border",
      "label": "Couleur de bordure du bouton",
      "default": "#3a7cff"
    },
    {
      "type": "range",
      "id": "button_radius",
      "label": "Arrondi du bouton (px)",
      "min": 0,
      "max": 20,
      "step": 1,
      "default": 4
    },
    {
      "type": "text",
      "id": "button_padding",
      "label": "Padding du bouton (ex: 10px 20px)",
      "default": "10px 20px"
    },
    {
      "type": "range",
      "id": "button_font_size",
      "label": "Taille de la police (px)",
      "min": 12,
      "max": 30,
      "step": 1,
      "default": 16
    },
    {
      "type": "select",
      "id": "button_font_weight",
      "label": "Épaisseur du texte",
      "default": "normal",
      "options": [
        { "value": "normal", "label": "Normal" },
        { "value": "bold", "label": "Gras" },
        { "value": "lighter", "label": "Fin" }
      ]
    },
    {
      "type": "text",
      "id": "button_width",
      "label": "Largeur du bouton (ex: auto, 100%, 300px)",
      "default": "100%"
    },
    {
      "type": "text",
      "id": "button_height",
      "label": "Hauteur du bouton (ex: 44px)",
      "default": "44px"
    }
  ],
  "presets": [
    {
      "name": "Commande staff",
      "category": "Custom"
    }
  ]
}
{% endschema %}
